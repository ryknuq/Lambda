#include "anti_exploit.h"
#include "../../sdk/interfaces/IClientEntity.hpp"

void anti_ex::createmove(ClientFrameStage_t stage)
{
	this->antiexploit();
}

void anti_ex::antiexploit() // Вы это не видите я сам вахуе
{
	static auto is_command_set = false;
	if (is_command_set != cfg.ragebot.anti_exploit)
	{
		auto old_team = g_ctx.local()->m_iTeamNum();

		std::string command = "kill; jointeam 1; cl_lagcompensation ";
		command += std::to_string(cfg.ragebot.anti_exploit ? 0 : 1) + ";";
		command += "jointeam " + std::to_string(old_team) + "; ";

		m_engine()->ExecuteClientCmd(command.data());
		is_command_set = cfg.ragebot.anti_exploit;
	}
}